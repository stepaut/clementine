{% extends "base.html" %}

{% block title %}–û–±–∑–æ—Ä –¥–∞–Ω–Ω—ã—Ö{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>–û–±–∑–æ—Ä –¥–∞–Ω–Ω—ã—Ö</h1>
    
    {% if summary.available_years %}
        <div class="alert alert-success">
            <h4>‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!</h4>
            <p>–ù–∞–π–¥–µ–Ω–æ –¥–∞–Ω–Ω—ã—Ö –∑–∞ {{ summary.available_years|length }} –ª–µ—Ç: {{ summary.available_years|join(', ') }}</p>
        </div>
    {% else %}
        <div class="alert alert-warning">
            <h4>‚ö†Ô∏è –î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h4>
            <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" –≤ —Ñ–∞–π–ª–µ config.py</p>
        </div>
    {% endif %}

    <div class="row mt-4">
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">üìä –î–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</h5>
                    {% if summary.mood_years %}
                        <p class="card-text">
                            <strong>–î–æ—Å—Ç—É–ø–Ω–æ –ª–µ—Ç:</strong> {{ summary.mood_years|length }}<br>
                            <strong>–ì–æ–¥—ã:</strong> {{ summary.mood_years|join(', ') }}<br>
                            <strong>–ó–∞–ø–∏—Å–µ–π:</strong> {{ summary.total_mood_records }}
                        </p>
                        <a href="/mood" class="btn btn-primary">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–Ω–∞–ª–∏–∑</a>
                    {% else %}
                        <p class="card-text text-muted">–î–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        <button class="btn btn-secondary" disabled>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">‚è∞ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h5>
                    {% if summary.time_years %}
                        <p class="card-text">
                            <strong>–î–æ—Å—Ç—É–ø–Ω–æ –ª–µ—Ç:</strong> {{ summary.time_years|length }}<br>
                            <strong>–ì–æ–¥—ã:</strong> {{ summary.time_years|join(', ') }}<br>
                            <strong>–ó–∞–ø–∏—Å–µ–π:</strong> {{ summary.total_time_records }}
                        </p>
                        <a href="/time" class="btn btn-primary">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–Ω–∞–ª–∏–∑</a>
                    {% else %}
                        <p class="card-text text-muted">–î–∞–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        <button class="btn btn-secondary" disabled>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h5>
                    {% if summary.daily_years %}
                        <p class="card-text">
                            <strong>–î–æ—Å—Ç—É–ø–Ω–æ –ª–µ—Ç:</strong> {{ summary.daily_years|length }}<br>
                            <strong>–ì–æ–¥—ã:</strong> {{ summary.daily_years|join(', ') }}<br>
                            <strong>–ó–∞–ø–∏—Å–µ–π:</strong> {{ summary.total_daily_records }}
                        </p>
                        <a href="/daily" class="btn btn-primary">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–Ω–∞–ª–∏–∑</a>
                    {% else %}
                        <p class="card-text text-muted">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        <button class="btn btn-secondary" disabled>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    {% if summary.available_years %}
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö</h5>
                        <p class="card-text">–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –ø–∞–ø–∫–∏ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:</p>
                        <ul>
                            <li><code>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞/</code></li>
                            <li><code>&nbsp;&nbsp;colors.csv</code> (–æ–±—â–∏–π —Ñ–∞–π–ª —Å —Ü–≤–µ—Ç–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö –ª–µ—Ç)</li>
                            {% for year in summary.available_years %}
                                <li><code>&nbsp;&nbsp;{{ year }}/</code></li>
                                {% if year in summary.mood_years %}
                                    <li><code>&nbsp;&nbsp;&nbsp;&nbsp;mood_{{ year }}.csv</code> ‚úÖ</li>
                                {% endif %}
                                {% if year in summary.time_years %}
                                    <li><code>&nbsp;&nbsp;&nbsp;&nbsp;time_{{ year }}.csv</code> ‚úÖ</li>
                                {% endif %}
                                {% if year in summary.daily_years %}
                                    <li><code>&nbsp;&nbsp;&nbsp;&nbsp;data_{{ year }}.csv</code> ‚úÖ</li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %} 